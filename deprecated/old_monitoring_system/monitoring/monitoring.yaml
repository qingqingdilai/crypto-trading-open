# å…¨å±€ç›‘æ§ç³»ç»Ÿé…ç½®
# è¯¥é…ç½®æ–‡ä»¶åªå®šä¹‰ç›‘æ§ç³»ç»Ÿçš„å…¨å±€è¡Œä¸ºå’Œç­–ç•¥

# å…¨å±€ç›‘æ§é…ç½®
enabled: true
global_max_symbols: 1000  # å…¨å±€äº¤æ˜“å¯¹æ•°é‡é™åˆ¶
update_interval: 1000  # æ¯«ç§’
health_check_interval: 30  # ç§’
reconnect_delay: 5  # ç§’
max_reconnect_attempts: 10
data_retention_hours: 24
enable_statistics: true
enable_symbol_limits: false  # æ˜¯å¦å¯ç”¨äº¤æ˜“å¯¹æ•°é‡é™åˆ¶

# ğŸ”¥ ç¬¦å·ç®¡ç†é…ç½® - ä¿®å¤é‡å è®¡ç®—é€»è¾‘
symbol_management:
  # ç¬¦å·è·å–ç­–ç•¥
  strategy: "overlap"              # ğŸ”¥ ä¿®æ”¹ï¼šä½¿ç”¨overlapç­–ç•¥ï¼Œåªè®¢é˜…é‡å ç¬¦å·
  
  # é‡å è®¡ç®—é…ç½®
  overlap_settings:
    min_exchange_count: 2          # æœ€å°‘æ”¯æŒçš„äº¤æ˜“æ‰€æ•°é‡ï¼ˆ2ä¸ªå³å¯é‡å ï¼‰
    use_overlap_only: true         # ğŸ”¥ ä¿®å¤ï¼šå¯ç”¨é‡å æ¨¡å¼ï¼Œåªè®¢é˜…é‡å ç¬¦å·
    max_symbols_per_exchange: 0    # ğŸ”¥ ä¿®å¤ï¼šåœ¨é‡å åˆ†ææ—¶ä¸é™åˆ¶ç¬¦å·æ•°é‡ï¼ˆ0è¡¨ç¤ºæ— é™åˆ¶ï¼‰
    cache_duration: 86400          # ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œ24å°æ—¶
    startup_timeout: 30            # å¯åŠ¨è·å–è¶…æ—¶æ—¶é—´
    
    # ğŸ”¥ æ–°å¢ï¼šé‡å è®¡ç®—è¯¦ç»†é…ç½®
    overlap_calculation:
      method: "base_symbol_match"  # åŸºäºåŸºç¡€ç¬¦å·åŒ¹é…ï¼ˆBTC, ETHç­‰ï¼‰
      ignore_quote_currency: true # å¿½ç•¥è®¡ä»·è´§å¸å·®å¼‚ï¼ˆUSDC vs USDTï¼‰
      log_overlap_analysis: true  # è®°å½•é‡å åˆ†æè¯¦æƒ…
      enable_symbol_filtering: false  # ç¦ç”¨ç¬¦å·è¿‡æ»¤ï¼ˆä¸é¢„è®¾å°å¸ç§ï¼‰
    
  # æ•…éšœå¤„ç†
  fallback:
    use_predefined_list: true      # è·å–å¤±è´¥æ—¶ä½¿ç”¨é¢„å®šä¹‰åˆ—è¡¨
    predefined_symbols:            # é¢„å®šä¹‰çš„å®‰å…¨åˆ—è¡¨
      - "BTC_USDT_PERP"
      - "ETH_USDT_PERP"
      - "SOL_USDT_PERP"
      - "AVAX_USDT_PERP"
      - "DOGE_USDT_PERP"
      - "ADA_USDT_PERP"
      - "DOT_USDT_PERP"
      - "MATIC_USDT_PERP"
      - "LINK_USDT_PERP"
      - "UNI_USDT_PERP"

# ä»·å·®ç›‘æ§é…ç½®
price_spread_monitoring:
  enabled: true                    # å¯ç”¨ä»·å·®ç›‘æ§
  min_spread_threshold: 0.001      # æœ€å°ä»·å·®é˜ˆå€¼ï¼ˆ0.1%ï¼‰
  max_spread_threshold: 0.05       # æœ€å¤§ä»·å·®é˜ˆå€¼ï¼ˆ5%ï¼‰
  update_frequency: 1000           # ä»·å·®è®¡ç®—é¢‘ç‡ï¼ˆæ¯«ç§’ï¼‰
  alert_threshold: 0.01            # ä»·å·®å‘Šè­¦é˜ˆå€¼ï¼ˆ1%ï¼‰
  log_large_spreads: true          # è®°å½•å¤§ä»·å·®
  comparison_pairs:                # ä»·å·®å¯¹æ¯”ç»„åˆ
    - exchanges: ["backpack", "lighter"]
      description: "Backpack vs Lighter"
    - exchanges: ["backpack", "edgex"]
      description: "Backpack vs EdgeX"
    - exchanges: ["lighter", "edgex"]
      description: "Lighter vs EdgeX"
    - exchanges: ["backpack", "lighter", "edgex"]
      description: "ä¸‰äº¤æ˜“æ‰€ä»·å·®å¯¹æ¯”"

# å…¨å±€é»˜è®¤è®¾ç½®
defaults:
  # é»˜è®¤æ•°æ®ç±»å‹ï¼ˆäº¤æ˜“æ‰€å¯ä»¥è¦†ç›–ï¼‰
  data_types:
    - "ticker"                     # ğŸ”¥ ä¿®æ”¹ï¼šåªè®¢é˜…tickeræ•°æ®
  # é»˜è®¤é€Ÿç‡é™åˆ¶
  rate_limit:
    requests_per_minute: 100
  # é»˜è®¤WebSocketè®¾ç½®
  websocket_enabled: true
  rest_fallback: true
  # é»˜è®¤æœ€å¤§äº¤æ˜“å¯¹æ•°é‡
  max_symbols: 1000

# ç›‘æ§ç³»ç»Ÿè¡Œä¸ºé…ç½®
monitoring:
  # äº¤æ˜“æ‰€é…ç½®æ–‡ä»¶ç›®å½•
  exchange_configs_dir: "config/exchanges"
  # å¯ç”¨çš„äº¤æ˜“æ‰€ï¼ˆä»é…ç½®æ–‡ä»¶ä¸­è¯»å–ï¼‰
  enabled_exchanges:
    - "backpack"                 # ğŸ”¥ å¯ç”¨Backpack
    - "edgex"                    # ğŸ”¥ å¯ç”¨EdgeX
    - "lighter"                  # ğŸ”¥ å¯ç”¨Lighter
    # - "hyperliquid"            # å·²ç§»é™¤Hyperliquid
    # - "binance"                # æš‚æ—¶ç¦ç”¨Binance
  
  # é…ç½®æ–‡ä»¶åŠ è½½ç­–ç•¥
  config_loading:
    # æ˜¯å¦ä½¿ç”¨äº¤æ˜“æ‰€é…ç½®æ–‡ä»¶
    use_exchange_configs: true
    # äº¤æ˜“æ‰€é…ç½®æ–‡ä»¶è·¯å¾„æ¨¡å¼
    config_file_pattern: "{exchange}_config.yaml"
    # é…ç½®æ–‡ä»¶åŠ è½½å¤±è´¥æ—¶çš„å¤„ç†
    fallback_to_defaults: true

# ğŸ”¥ æ•°æ®å¤„ç†é…ç½® - æ–°å¢
data_processing:
  # ä»·æ ¼æ•°æ®å¤„ç†
  price_data:
    normalize_symbols: true        # æ ‡å‡†åŒ–äº¤æ˜“å¯¹ç¬¦å·
    filter_outliers: true         # è¿‡æ»¤å¼‚å¸¸ä»·æ ¼
    cache_duration: 30             # ä»·æ ¼æ•°æ®ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰
    
  # å®æ—¶æ•°æ®èšåˆ
  real_time_aggregation:
    enabled: true
    window_size: 5000             # èšåˆçª—å£å¤§å°ï¼ˆæ¯«ç§’ï¼‰
    metrics:
      - "price"                   # ä»·æ ¼
      - "volume"                  # æˆäº¤é‡
      - "spread"                  # ä»·å·®

# æ€§èƒ½ç›‘æ§é…ç½®
performance:
  # æ˜¯å¦å¯ç”¨æ€§èƒ½ç›‘æ§
  enabled: true
  # æ€§èƒ½æŒ‡æ ‡æ”¶é›†é—´éš”ï¼ˆç§’ï¼‰
  metrics_interval: 60
  # å†…å­˜ä½¿ç”¨ç›‘æ§
  memory_monitoring: true
  # è¿æ¥çŠ¶æ€ç›‘æ§
  connection_monitoring: true

# æ—¥å¿—é…ç½®
logging:
  # ç›‘æ§ç³»ç»Ÿæ—¥å¿—çº§åˆ«
  level: "INFO"
  # æ˜¯å¦è®°å½•è¯¦ç»†çš„è®¢é˜…ä¿¡æ¯
  log_subscriptions: true
  # æ˜¯å¦è®°å½•æ•°æ®æ¥æ”¶ç»Ÿè®¡
  log_data_stats: true
  # ğŸ”¥ ä»·å·®ç›‘æ§æ—¥å¿—
  log_spreads: true               # è®°å½•ä»·å·®ä¿¡æ¯
  log_arbitrage_opportunities: true  # è®°å½•å¥—åˆ©æœºä¼š 